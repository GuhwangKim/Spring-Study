# 토비 스프링 독서 스터디 

**1. 오브젝트와 의존관계**
   - 클래스 간 관계가 필요함
   - 낮은 결합도, 강한 응집력 -> 코드 변경시 대처가 쉬움
   - "사용" 관계 = 스프링의 IoC 컨테이너가 제공하는 DI의 속성을 이용함
     즉, 코드 상(=아키텍쳐) 으로는 클래스 간의 관계를 알 수 없음</br>
     런타임시 (Client 요청 등) 클래스 간의 관계가 결정 됨</br>
   ![의존관계](https://t1.daumcdn.net/cfile/tistory/22546A5056C4244F2A)</br>

     

 **2. 템플릿**
- 코드의 반복을 줄이기 위한 디자인 패턴
- 중요 개념</br>
      Client : 행동을 요청함</br>
      Context : 변화하지 않는 부분을 정리함</br>
      Strategy : 어떤 클래스와 관계를 맺을지에 대해서 정의한 부분
- 전략패턴
      Client의 코드에서 어떤 Strategy 사용할지 결정한 후 -> Context를 요청함</br>
      매번 클래스를 만드는 수고를 덜기 위해서, 내부 클래스 이용함 (new 인터페이스 -> 클래스 정의)
- 템플릿/콜백 패턴
      전략패턴과 유사하나, 인터페이스를 구현하는 부분이 메소드임
      
 **3. 예외**
 - RunTimeException : 프로그램 오류, catch throws를 하지 않아도 되며 런타임 에러의 보편화
 - 예외 전환 :
   ```
   try {
      예외가 발생하는 코드
   } catch(SQLExcetption e) {
      new RunTimeException(e); <- 해당 오류가 발생하더라도 RunTimeException으로 전환하여 처리함  
   }
   ```
   - DataAccessException <- 데이터 엑세스 프로그램에 상관없이 예외처리 가능한 인터페이스

  **4. 서비스 추상화**
  - 비즈니스 로직의 분리 (메소드로 따로 분리하여 처리함)
  - 트랜잭션 로직 분리
    *트랜잭션 경계 설정 중요 (커밋에 오류가 나는 경우 어떻게 할 것인가 = 전체 rollback / commit 알림)
   - 테스트를 위한 interface 생성 

  **5. AOP**
  - 트랜잭션 서비스 추상화
    
    ⚠️트랜잭션 경계 설정 + 비즈니스 로직
    
    → 특정 트랜잭션 기술에 종속됨 (기술이 바뀌면 가져다 쓰는 부분 다 고쳐야함)
    
    💡트랜잭션 추상내용 정리 + 비즈니스 로직 (구체적인 내용) 
    
    인터페이스와 DI를 통해 무엇을 하는지 남기고 
    
    (비즈니스 로직 —- 트랜잭션)
    
    어떻게 해야하는지 분리 
    
- 프록시와 데코레이터 패턴
    
    트랜잭션의 결계설정 (rollback..) 담당 코드 때문에 트랜잭션 코드 부분에 비즈니스 로직 처리 메소드 필요 
    
    ⇒ DI를 이용해 데코레이터 패턴 적용
    
    클라이언트 —- 인터페이스와 DI 를 통해 접근 `트랜잭션`  —— 타깃
    
    프록시 역할을 하는 트랜잭션 데코레이터를 거쳐서 타깃에 접근 
    
    ⇒ 독립적인 단위 테스트 가능 
    
- 다이내믹 프록시와 프록시 팩토리 빈
    
    프록시 클래스 없이도 오브젝트를 런타임시에 만들어주는 프록시 기술 
    
- 자동 프록시 생성 방법과 포인트컷
    
    스프링 컨테이너의 빈 생성 후 처리 기법
    
    → 컨테이너 초기화 시점에서 자동으로 프록시를 만들어주는 방법
    
    프록시를 적용할 대상을 일일이 지정하지 않고 패턴을 이용해 자동으로 선정해주는 확장된 포인트컷 사용 
    
- 부가기능의 모듈화
- AOP: 애스펙트 지향 프로그래밍
    - 에스펙트 : 부가기능 모듈
        
        애플리케이션의 핵심 기능을 담고 있진 않지만, 핵심기능에 부가되어 의미를 갖게 됨 
        
        부가될 기능을 정의한 코드 + 어드바이스를 어디에 적용할 것인지를 결정하는 포인트컷
